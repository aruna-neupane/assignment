{"ast":null,"code":"const startLoadingAction = () => ({\n  type: actionType.START_FETCH_DATA\n});\n\nconst finishLoadingAction = () => ({\n  type: actionType.FINISH_FETCH_DATA\n});\n\nconst setListData = payload => ({\n  type: actionType.SET_LIST_BRANCH,\n  payload\n});\n\nconst setDetailBranch = payload => ({\n  type: actionType.SET_DETAIL_BRANCH,\n  payload\n});\n/** ini sementara */\n\n\nexport const clearList = () => dispatch => {\n  dispatch(setListData([]));\n};\n/** ini sementara */\n\nexport const getListBranch = (service, params) => dispatch => new Promise((resolve, reject) => {\n  dispatch(startLoadingAction());\n  service.invoke('api/cenco/cenco/data/table', params, {\n    method: 'POST',\n    header: {\n      'Content-type': 'application/json'\n    },\n    APPS: APPS_BE\n  }).then(response => {\n    if (response.data.responseCode == 1000) {\n      const listBranch = response.data.response.filter(val => val.status === 'LIVE' && val.client_id === CLIENT_ID_TPE || val.status === 'INAU' && val.authoress && val.client_id === CLIENT_ID_TPE);\n      const listTempBranch = listBranch.map(item => {\n        return { ...item,\n          branch_name: `${item.branch_code} - ${item.name}`\n        };\n      });\n      resolve(listTempBranch);\n      dispatch(setListData(listTempBranch));\n      dispatch(finishLoadingAction());\n    } else {\n      dispatch(finishLoadingAction());\n      resolve([]);\n    }\n  }, error => {\n    dispatch(finishLoadingAction());\n    dispatch(showError(error.data.responseCode));\n    reject(error);\n  });\n});","map":{"version":3,"sources":["D:/react-app/inspiring-lab-project/src/modules/login/store/reducer.js"],"names":["startLoadingAction","type","actionType","START_FETCH_DATA","finishLoadingAction","FINISH_FETCH_DATA","setListData","payload","SET_LIST_BRANCH","setDetailBranch","SET_DETAIL_BRANCH","clearList","dispatch","getListBranch","service","params","Promise","resolve","reject","invoke","method","header","APPS","APPS_BE","then","response","data","responseCode","listBranch","filter","val","status","client_id","CLIENT_ID_TPE","authoress","listTempBranch","map","item","branch_name","branch_code","name","error","showError"],"mappings":"AAAA,MAAMA,kBAAkB,GAAG,OAAO;AAC9BC,EAAAA,IAAI,EAAEC,UAAU,CAACC;AADa,CAAP,CAA3B;;AAGA,MAAMC,mBAAmB,GAAG,OAAO;AAC/BH,EAAAA,IAAI,EAAEC,UAAU,CAACG;AADc,CAAP,CAA5B;;AAGA,MAAMC,WAAW,GAAGC,OAAO,KAAK;AAC5BN,EAAAA,IAAI,EAAEC,UAAU,CAACM,eADW;AAE5BD,EAAAA;AAF4B,CAAL,CAA3B;;AAIA,MAAME,eAAe,GAAGF,OAAO,KAAK;AAChCN,EAAAA,IAAI,EAAEC,UAAU,CAACQ,iBADe;AAEhCH,EAAAA;AAFgC,CAAL,CAA/B;AAKA;;;AACA,OAAO,MAAMI,SAAS,GAAG,MAAOC,QAAD,IAAc;AACzCA,EAAAA,QAAQ,CAACN,WAAW,CAAC,EAAD,CAAZ,CAAR;AACH,CAFM;AAGP;;AAEA,OAAO,MAAMO,aAAa,GAAG,CAACC,OAAD,EAAUC,MAAV,KAAqBH,QAAQ,IAAI,IAAII,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAC3FN,EAAAA,QAAQ,CAACZ,kBAAkB,EAAnB,CAAR;AACAc,EAAAA,OAAO,CAACK,MAAR,CACI,4BADJ,EAEIJ,MAFJ,EAGI;AACIK,IAAAA,MAAM,EAAE,MADZ;AAEIC,IAAAA,MAAM,EAAE;AACJ,sBAAgB;AADZ,KAFZ;AAKIC,IAAAA,IAAI,EAAEC;AALV,GAHJ,EAWEC,IAXF,CAYKC,QAAD,IAAc;AACV,QAAIA,QAAQ,CAACC,IAAT,CAAcC,YAAd,IAA8B,IAAlC,EAAwC;AACpC,YAAMC,UAAU,GAAGH,QAAQ,CAACC,IAAT,CAAcD,QAAd,CAAuBI,MAAvB,CAA8BC,GAAG,IAAKA,GAAG,CAACC,MAAJ,KAAe,MAAf,IAAyBD,GAAG,CAACE,SAAJ,KAAkBC,aAA5C,IAA+DH,GAAG,CAACC,MAAJ,KAAe,MAAf,IAAyBD,GAAG,CAACI,SAA7B,IAA0CJ,GAAG,CAACE,SAAJ,KAAkBC,aAAhK,CAAnB;AACA,YAAME,cAAc,GAAGP,UAAU,CAACQ,GAAX,CAAgBC,IAAD,IAAU;AAC5C,eAAO,EACH,GAAGA,IADA;AAEHC,UAAAA,WAAW,EAAG,GAAED,IAAI,CAACE,WAAY,MAAKF,IAAI,CAACG,IAAK;AAF7C,SAAP;AAIH,OALsB,CAAvB;AAMAvB,MAAAA,OAAO,CAACkB,cAAD,CAAP;AACAvB,MAAAA,QAAQ,CAACN,WAAW,CAAC6B,cAAD,CAAZ,CAAR;AACAvB,MAAAA,QAAQ,CAACR,mBAAmB,EAApB,CAAR;AACH,KAXD,MAWO;AACHQ,MAAAA,QAAQ,CAACR,mBAAmB,EAApB,CAAR;AACAa,MAAAA,OAAO,CAAC,EAAD,CAAP;AACH;AACJ,GA5BL,EA6BKwB,KAAD,IAAW;AACP7B,IAAAA,QAAQ,CAACR,mBAAmB,EAApB,CAAR;AACAQ,IAAAA,QAAQ,CAAC8B,SAAS,CAACD,KAAK,CAACf,IAAN,CAAWC,YAAZ,CAAV,CAAR;AACAT,IAAAA,MAAM,CAACuB,KAAD,CAAN;AACH,GAjCL;AAmCH,CArC6D,CAAvD","sourcesContent":["const startLoadingAction = () => ({\r\n    type: actionType.START_FETCH_DATA,\r\n});\r\nconst finishLoadingAction = () => ({\r\n    type: actionType.FINISH_FETCH_DATA,\r\n});\r\nconst setListData = payload => ({\r\n    type: actionType.SET_LIST_BRANCH,\r\n    payload,\r\n});\r\nconst setDetailBranch = payload => ({\r\n    type: actionType.SET_DETAIL_BRANCH,\r\n    payload,\r\n});\r\n\r\n/** ini sementara */\r\nexport const clearList = () => (dispatch) => {\r\n    dispatch(setListData([]));\r\n};\r\n/** ini sementara */\r\n\r\nexport const getListBranch = (service, params) => dispatch => new Promise((resolve, reject) => {\r\n    dispatch(startLoadingAction());\r\n    service.invoke(\r\n        'api/cenco/cenco/data/table',\r\n        params,\r\n        {\r\n            method: 'POST',\r\n            header: {\r\n                'Content-type': 'application/json',\r\n            },\r\n            APPS: APPS_BE,\r\n        },\r\n\r\n    ).then(\r\n        (response) => {\r\n            if (response.data.responseCode == 1000) {\r\n                const listBranch = response.data.response.filter(val => (val.status === 'LIVE' && val.client_id === CLIENT_ID_TPE) || (val.status === 'INAU' && val.authoress && val.client_id === CLIENT_ID_TPE));\r\n                const listTempBranch = listBranch.map((item) => {\r\n                    return {\r\n                        ...item,\r\n                        branch_name: `${item.branch_code} - ${item.name}`,\r\n                    };\r\n                });\r\n                resolve(listTempBranch);\r\n                dispatch(setListData(listTempBranch));\r\n                dispatch(finishLoadingAction());\r\n            } else {\r\n                dispatch(finishLoadingAction());\r\n                resolve([]);\r\n            }\r\n        },\r\n        (error) => {\r\n            dispatch(finishLoadingAction());\r\n            dispatch(showError(error.data.responseCode));\r\n            reject(error);\r\n        },\r\n    );\r\n});\r\n"]},"metadata":{},"sourceType":"module"}